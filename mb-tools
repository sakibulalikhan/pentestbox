#!/bin/bash

# Print script header
cat << "EOF"
 _______  ______    _________ _______  _______  _        _______ 
(       )(  ___ \   \__   __/(  ___  )(  ___  )( \      (  ____ \
| () () || (   ) )     ) (   | (   ) || (   ) || (      | (    \/
| || || || (__/ /_____ | |   | |   | || |   | || |      | (_____ 
| |(_)| ||  __ ((_____)| |   | |   | || |   | || |      (_____  )
| |   | || (  \ \      | |   | |   | || |   | || |            ) |
| )   ( || )___) )     | |   | (___) || (___) || (____/\/\____) |
|/     \||/ \___/      )_(   (_______)(_______)(_______/\_______)

                                        @sakibulalikhan -- My Box Tools :)

EOF

# Function to check if a package is installed
is_installed() {
    pacman -Qi "$1" &> /dev/null
}

# Function to install a package using yay or pacman
install_package() {
    if is_installed "$1"; then
        echo -e "\e[32m[✔]\e[0m $1 is already installed."
    else
        if command -v yay &> /dev/null; then
            yay -S --noconfirm "$1"
        else
            sudo pacman -S --noconfirm "$1"
        fi
        echo -e "\e[32m[✔]\e[0m $1 has been installed."
    fi
}

# Function to display category headers
display_category() {
    echo -e "\n\e[1m$1\e[0m"
}

echo -e "\e[1mInstalling Tools\e[0m"

# Install yay if not installed
if ! command -v yay &> /dev/null; then
    echo -e "\e[1mInstalling Yay\e[0m"
    sudo pacman -S --noconfirm yay
fi

# Install tools in categories

display_category "Network Tools"
install_package "nmap"
install_package "naabu"
install_package "assetfinder"
install_package "subjack"
install_package "amass"
install_package "waybackurls"
install_package "jq"
install_package "gowitness"
install_package "httprobe"
install_package "wafw00f"
install_package "whatweb"
install_package "quickscope"
install_package "ghidra"
install_package "sqlmap"
install_package "rustscan"
install_package "ghauri"
install_package "nosqlmap"
install_package "gobuster"
install_package "ffuf"
install_package "dirb"
install_package "seclists"

display_category "Exploitation Tools"
install_package "hydra-gtk"
install_package "metasploit-framework"
install_package "sqlmap"
install_package "wpscan"
install_package "mimikatz"
install_package "powersploit"
install_package "hashcat"
install_package "john"

display_category "Forensics Tools"
install_package "binwalk"
install_package "foremost"
install_package "yara"
install_package "gdb"
install_package "autopsy"

display_category "Web Application Tools"
install_package "wfuzz"
install_package "wapiti"
install_package "maltego"
install_package "haiti"
install_package "nuclei"
install_package "recon-ng"

display_category "Utilities"
install_package "ncat"
install_package "wget"
install_package "curl"
install_package "openssh"
install_package "hashid"
install_package "wordlists"

echo -e "\n\e[1mAll tools have been installed successfully.\e[0m"
